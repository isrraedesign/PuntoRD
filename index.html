<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Turismo Puerto Plata</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 10px; }
    #map { height: 500px; width: 100%; margin-top: 10px; }
    .language-select { margin-bottom: 10px; }
    .info-box { background: #eee; padding: 8px; border-radius: 5px; margin-top: 10px; }
  </style>
</head>
<body>

  <h1 id="title">Turismo Puerto Plata</h1>

  <div class="language-select">
    <label for="lang">Idioma:</label>
    <select id="lang">
      <option value="es">Español</option>
      <option value="en">English</option>
      <option value="fr">Français</option>
    </select>
  </div>

  <div id="map"></div>

  <div class="info-box" id="info">Cargando lugares turísticos...</div>

  <script>
    // Traducciones básico
    const translations = {
      es: {
        title: "Turismo Puerto Plata",
        dangerZone: "Zona Peligrosa",
        touristSpot: "Lugar Turístico",
        loading: "Cargando lugares turísticos...",
      },
      en: {
        title: "Puerto Plata Tourism",
        dangerZone: "Danger Zone",
        touristSpot: "Tourist Spot",
        loading: "Loading tourist spots...",
      },
      fr: {
        title: "Tourisme à Puerto Plata",
        dangerZone: "Zone Dangereuse",
        touristSpot: "Lieu touristique",
        loading: "Chargement des lieux touristiques...",
      }
    };

    // Datos de lugares turísticos (puedes ampliar)
    const touristPlaces = [
      {lat: 19.779, lng: -70.690, name: {es:"Cayo Arena",en:"Cayo Arena",fr:"Cayo Arena"}, type:"beach"},
      {lat: 19.797, lng: -70.690, name: {es:"Fuerte San Felipe",en:"San Felipe Fort",fr:"Fort San Felipe"}, type:"historic"},
      {lat: 19.815, lng: -70.700, name: {es:"Zona Colonial",en:"Colonial Zone",fr:"Zone coloniale"}, type:"historic"},
      {lat: 19.783, lng: -70.715, name: {es:"Playa Dorada",en:"Golden Beach",fr:"Plage Dorée"}, type:"beach"},
      {lat: 19.790, lng: -70.710, name: {es:"Villas Playa Grande",en:"Playa Grande Villas",fr:"Villas Playa Grande"}, type:"villa"},
    ];

    // Zonas peligrosas identificadas
    let dangerZones = [
      {lat: 19.780, lng: -70.700, name: {es:"Zona Peligrosa 1",en:"Danger Zone 1",fr:"Zone Dangereuse 1"}},
      {lat: 19.770, lng: -70.680, name: {es:"Zona Peligrosa 2",en:"Danger Zone 2",fr:"Zone Dangereuse 2"}},
    ];

    let map, markers = [], dangerMarkers = [];
    let currentLang = "es";

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        center: {lat: 19.8, lng: -70.7},
        zoom: 13
      });

      loadMarkers();
    }

    function loadMarkers() {
      clearMarkers();

      // Colocar marcadores turísticos
      touristPlaces.forEach(place => {
        const marker = new google.maps.Marker({
          position: {lat: place.lat, lng: place.lng},
          map,
          title: place.name[currentLang],
          icon: "http://maps.google.com/mapfiles/ms/icons/blue-dot.png"
        });
        markers.push(marker);

        const infowindow = new google.maps.InfoWindow({
          content: `<strong>${place.name[currentLang]}</strong><br>${translations[currentLang].touristSpot}`
        });
        marker.addListener('click', () => infowindow.open(map, marker));
      });

      // Colocar zonas peligrosas
      dangerZones.forEach(zone => {
        const dmarker = new google.maps.Marker({
          position: {lat: zone.lat, lng: zone.lng},
          map,
          title: zone.name[currentLang],
          icon: "http://maps.google.com/mapfiles/ms/icons/red-dot.png"
        });
        dangerMarkers.push(dmarker);

        const infowindow = new google.maps.InfoWindow({
          content: `<strong>${zone.name[currentLang]}</strong><br>${translations[currentLang].dangerZone}`
        });
        dmarker.addListener('click', () => infowindow.open(map, dmarker));
      });

      document.getElementById("info").textContent = translations[currentLang].loading;
    }

    function clearMarkers() {
      markers.forEach(marker => marker.setMap(null));
      markers = [];
      dangerMarkers.forEach(marker => marker.setMap(null));
      dangerMarkers = [];
    }

    // Cambiar idioma y recargar marcadores
    document.getElementById("lang").addEventListener('change', (ev) => {
      currentLang = ev.target.value;
      document.getElementById("title").textContent = translations[currentLang].title;
      document.getElementById("info").textContent = translations[currentLang].loading;
      loadMarkers();
    });

    // Simulación tiempo real: alternar visibilidad de la segunda zona peligrosa para mostrar efecto tiempo real
    setInterval(() => {
      if (dangerMarkers[1]) {
        const m = dangerMarkers[1];
        m.getMap() ? m.setMap(null) : m.setMap(map);
      }
    }, 8000);

  </script>
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=TU_API_KEY&callback=initMap"></script>
</body>
</html>
